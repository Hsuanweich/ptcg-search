<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  		<title>PTCG</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/fontAwesome.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="..." crossorigin="anonymous">
        <link rel="stylesheet" href="css/light-box.css">
        <link rel="stylesheet" href="css/templatemo-style.css">

        <link href="https://fonts.googleapis.com/css?family=Kanit:100,200,300,400,500,600,700,800,900" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600&display=swap" rel="stylesheet">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
        <style>
            html, body {
                margin: 0;
                padding: 0;
                height: 100%;
                font-family: "DFKai-SB", "標楷體", DFKai, serif !important;
                overflow-y: auto;
            }

            .fullscreen-bg {
                position: relative;
                width: 100vw;
                height: 100vh;
                overflow: hidden;
            }

            .fullscreen-bg img {
                width: 100vw;
                height: 100vh;
                object-fit: fill; /* 圖片會鋪滿區塊，即使變形 */
                position: absolute;
                top: 0;
                left: 0;
                z-index: -1;
            }

            .content {
                position: relative;
                z-index: 1;
                color: white;
                text-align: center;
                padding-top: 20vh;
            }

            .logo a {
                color: white; /* 原本的顏色，可依你的背景調整 */
                text-decoration: none;
                transition: color 0.3s ease; /* 增加滑順過渡效果 */
                margin: 0 auto;
                padding: 0;
            }

            .logo a:hover {
                color: #ffcc00; /* 滑鼠移上去時的顏色，可自由更換 */
            }
            .logo a em {
                color: white;
                transition: color 0.3s ease;
            }

            .logo a:hover em {
                color: #00ffff; /* 滑鼠移上去時斜體文字變色 */
            }

            * {
                box-sizing: border-box;
                font-family: "DFKai-SB", "標楷體", DFKai, serif !important;
            }

            .maincontainer {
                position: relative;
                max-width: 700px;
                margin: 40px auto;
                padding-top: 20px;
                background: rgba(0, 0, 0, 0.95);
                padding: 40px;
                border-radius: 15px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                z-index: 2;
                font-family: "DFKai-SB", "標楷體", DFKai, serif !important;
            }

            /* 半透明背景容器 */
            .container {
                position: relative;
                max-width: 600px;
                margin: 40px auto;
                padding-top: 20px;
                background: rgba(255, 255, 255, 0.9);
                padding: 40px;
                border-radius: 15px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                z-index: 2;
                font-family: "DFKai-SB", "標楷體", DFKai, serif !important;
            }

            h1, h2 {
                text-align: center;
                color: #333;
                font-family: "DFKai-SB", "標楷體", DFKai, serif !important;
            }

            form {
                display: flex;
                flex-direction: column;
                gap: 15px;
                align-items: center;
                margin-top: 20px;
            }

            input[type="file"] {
                border: 2px dashed #ccc;
                padding: 20px;
                width: 100%;
                text-align: center;
                background-color: #f0f0f0;
                cursor: pointer;
            }

            button {
                background-color: #da19b7;
                color: white;
                border: none;
                padding: 12px 24px;
                font-size: 16px;
                border-radius: 8px;
                cursor: pointer;
                transition: background-color 0.3s ease;
            }

            form button[type="submit"]:hover {
                background-color: #c113a5;
            }

            #confirmBtn:hover {
                background-color: #bf108c;
            }

            .btn-link:hover {
            background-color: #b3007d;
                color: #fff;
                box-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
            }

            .btn-link {
                background-color: #da19b7;
                color: white;
                border: none;
                padding: 12px 24px;
                font-size: 16px;
                border-radius: 8px;
                cursor: pointer;
                transition: background-color 0.3s ease;
                font-family: "DFKai-SB", "標楷體", DFKai, serif !important;
            }

            #result {
                margin-top: 30px;
            }

            #result ul {
                padding-left: 20px;
            }

            #result li {
                margin-bottom: 10px;
                color: #444;
            }

            a {
                text-decoration: none;
                color: #da19b7;
                display: inline-block;
                margin-top: 30px;
                text-align: center;
                width: 100%;
            }

            a:hover {
                text-decoration: underline;
            }

            .bg-image {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url('img/htmlbackground.jpg');
                background-size: cover;
                background-position: center;
                pointer-events: none; /* 不要攔截滑鼠事件 */
                z-index: -1;
            }
            .modal {
                display: none;
                position: fixed;
                z-index: 1000;
                padding-top: 60px;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                overflow: auto;
                background-color: rgba(0, 0, 0, 0.8);
            }

            .modal-content {
                margin: auto;
                padding: 20px;
                background-color: #000000;
                border-radius: 10px;
                max-width: 90vw;
                max-height: 90vh;
                overflow: auto;
                position: relative;
                text-align: center;
            }

            .close {
                color: white;
                position: absolute;
                right: 20px;
                top: 10px;
                font-size: 36px;
                font-weight: bold;
                background: rgba(0, 0, 0, 0.6);
                border-radius: 50%;
                padding: 8px 14px;
                cursor: pointer;
                transition: 0.3s ease;
            }

            .close:hover {
                background: red;
                color: white;
            }

            .close:focus {
                color: black;
            }

            .center-button {
                display: flex;
                justify-content: center;
            }

            .scroll-icon {
                margin-top: 45px;
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                cursor: pointer;      /* 滑鼠變成手型 */
                animation: bounce 2s infinite;
            }

            .scroll-icon img {
                pointer-events: auto;   /* 確保可以觸發點擊事件 */
                height: auto;
            }

            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);}
                40% {transform: translateX(-50%) translateY(-10px);}
                60% {transform: translateX(-50%) translateY(-5px);}
            }

            .search-bar {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 8px;
                margin-top: 20px;
            }

            .search-bar input[type="text"] {
                padding: 10px;
                width: 300px;
                border-radius: 6px;
                border: 1px solid #ccc;
                font-size: 16px;
            }

            .search-bar button {
                display: flex;
                justify-content: flex-start; /* 內容靠左 */
                align-items: center;
                padding-left: 0px; /* 距離左邊的間距 */
                height: 36px;
                width: 36px; /* 固定寬度方便控制 */
                background-color: transparent;
                border: none;
                cursor: pointer;
            }

            .search-bar button img {
                width: 28px;
                height: 28px;
                transform: scale(1.6); /* 放大 ? 倍 */
            }
        </style>
    </head>
<body>
    <nav>
        <div class="logo">
            <a href="/">PTCG<em>圖片分析檢索首頁</em></a>
        </div>
        <div class="menu-icon">
        <span></span>
      </div>
    </nav>

    <div class="inner">
        <br>
        <br>
        <br>
        <div class="search-bar">
            <input type="text" id="textSearchInput" placeholder="請輸入卡牌名稱">
            <button id="textSearchBtn">
                <img src="img/search-icon.png" alt="搜尋" style="height: 24px;">
            </button>
            <!--<button id="textSearchBtn">🔍</button>-->
        </div>
        <div class="bg-image"></div>
        <div class="container">
            <h1>檔案與資料夾上傳</h1>
            <h2>上傳檔案後按前往圖表頁面</h2>
            <form id="fileForm">
                <input type="file" name="files" accept=".jpg, .jpeg, .png" />
                <button type="submit">上傳檔案</button>
                <button id="confirmBtn" type="button" style="display: none;">前往圖表頁面</button>
            </form>
            <div id="result"></div>
            <a href="/" class="btn-link">← 回首頁</a>
        </div>
        <!-- 滾動提示圖示 -->
        <div class="scroll-icon">
            <a class="scrollTo" data-scrollTo="portfolio-section">
                <img src="img/scroll-icon.png" alt="Scroll Down">
            </a>
        </div>
    </div>

    <div class="full-screen-portfolio portfolio-section">
        <br>
        <br>
        <br>
        <div class="container-fluid">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3">
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p1.png" data-lightbox="image-1"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p1.png">
                            </div>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p2.png" data-lightbox="image-2"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p2.png">
                            </div>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p3.png" data-lightbox="image-3"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p3.png">
                            </div>
                        </div></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="full-screen-portfolio portfolio-section">
        <div class="container-fluid">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3">
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6">-->
                    <div class="portfolio-item">
                        <a href="img/p4.png" data-lightbox="image-4"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p4.png">
                            </div>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p5.png" data-lightbox="image-5"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p5.png">
                            </div>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p6.png" data-lightbox="image-6"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p6.png">
                            </div>
                        </div></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--??????嚙踝蕭??嚙踝蕭-->
    <div class="full-screen-portfolio portfolio-section">
        <div class="container-fluid">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3">
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p7.png" data-lightbox="image-7"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p7.png">
                            </div>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p8.png" data-lightbox="image-8"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p8.png">
                            </div>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4 col-4 mb-4">
                <!-- <div class="col-md-4 col-sm-6"> -->
                    <div class="portfolio-item">
                        <a href="img/p9.png" data-lightbox="image-9"><div class="thumb">
                            <div class="hover-effect">
                                <div class="hover-content">
                                </div>
                            </div>
                            <div class="image">
                                <img src="img/p9.png">
                            </div>
                        </div></a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!--copyright-->
    <footer>
        <div class="container-fluid">
            <div class="col-md-12">
                <p>Copyright &copy; 2024 Lickitung
    
    | Designed by Kevin Lin</p>
            </div>
        </div>
    </footer>


    <!-- Modal button -->
    <div class="popup-icon">
      <button id="modBtn" class="modal-btn"><img src="img/contact-icon.png" alt=""></button>
    </div>  

    <!-- Modal -->
    <div id="modal" class="modal">
      <!-- Modal Content -->
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h3 class="header-title"></h3>
          <div class="close-btn"><img src="img/close_contact.png" alt=""></div>    
        </div>
        <!-- Modal Body -->
        <div class="modal-body">
          <div class="col-md-6 col-md-offset-3">
            <form id="contact" action="" method="post">
                <div class="row">
                    <div class="col-md-12">
                      <fieldset>
                        <input name="name" type="text" class="form-control" id="name" placeholder="您的姓名..." required="">
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <input name="email" type="email" class="form-control" id="email" placeholder="您的email..." required="">
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <textarea name="message" rows="6" class="form-control" id="message" placeholder="留言..." required=""></textarea>
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <button type="submit" id="form-submit" class="btn">提交</button>
                      </fieldset>
                    </div>
                </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <section class="overlay-menu">
      <div class="maincontainer">
        <div class="row">
          <div class="main-menu">
              <ul>
                <!--
                  <li>
                      <a href="/upload-page">圖片搜尋檢索</a>
                  </li>
                -->
                  <!--
                  <li>
                      <a href="testprogram.html">測試程式執行</a>
                  </li>
                  <li>
                      <a href="index.html">Home - Full-width</a>
                  </li>
                  <li>
                      <a href="masonry.html">Home - Masonry</a>
                  </li>
                  <li>
                      <a href="grid.html">Home - Small-width</a>
                  </li>
                  <li>
                      <a href="about.html">About Us</a>
                  </li>
                  <li>
                      <a href="blog.html">Blog Entries</a>
                  </li>
                  <li>
                      <a href="single-post.html">Single Post</a>
                  </li>
                  -->
              </ul>
              <p>我們將會為您帶來至尊級的服務</p>
          </div>
        </div>
      </div>
    </section>

    <script>
        document.getElementById('textSearchBtn').addEventListener('click', function () {
            const keyword = document.getElementById('textSearchInput').value.trim();
            if (keyword) {
                alert("搜尋中：" + keyword);
                // 這邊可以改成你的搜尋處理邏輯，例如：
                // window.location.href = '/search?keyword=' + encodeURIComponent(keyword);
            } else {
                alert("請輸入卡牌名稱");
            }
        });
    </script>

    <script>
        document.getElementById('fileForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const fileInput = document.querySelector('input[type="file"]');
        const files = fileInput.files;

        if (files.length === 0) {
            alert('請先選擇檔案後再上傳！');
            return;
        }

        const file = files[0];
        const formData = new FormData();
        formData.append('files', file);

        fetch('/upload_files', {
            method: 'POST',
            body: formData
        })
            .then(response => response.json())
            .then(data => {
            showResult('📂檔案上傳完成：', data['📂files成功上傳']);
            if (Array.isArray(data['📂files成功上傳']) && data['📂files成功上傳'].length > 0) {
                document.getElementById('confirmBtn').style.display = 'block';
            }
            else {
                alert('雖然傳送成功，但沒有任何有效圖片！');
            }
            })
            .catch(error => {
            alert('上傳失敗：' + error);
            });
        });

        function showResult(title, fileList) {
        const result = document.getElementById('result');
        if (!Array.isArray(fileList)) {
            result.innerHTML = `<h3>${title}</h3><p style="color:red;"> 檔案清單取得失敗！</p>`;
            console.error('fileList 不是陣列：', fileList);
            return;
        }
        result.innerHTML = `<h3>${title}</h3>` +
            fileList.map(f =>
            `<img src="/uploads/${f}" alt="${f}" 
                    style="max-width: 300px; display: block; margin: 10px auto;">`
            ).join('');
        }

        // 按下確認按鈕後跳轉
        document.getElementById('confirmBtn').addEventListener('click', function () {
        window.location.href = '/display';
        });
    </script>

    <script>
        document.querySelectorAll('.scrollTo').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetClass = this.getAttribute('data-scrollTo');
                const target = document.querySelector(`.${targetClass}`);
                if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

    <script src="js/vendor/bootstrap.min.js"></script>
    
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

    
</body>
</html>